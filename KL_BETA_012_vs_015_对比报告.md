# KL_BETA 对比实验报告：0.12 vs 0.15

## 实验配置

| 参数 | KL_BETA=0.12 | KL_BETA=0.15 |
|------|--------------|--------------|
| **KL_BETA** | 0.12 | 0.15 |
| **Epoch** | 9 | 42 |
| **数据集** | okvqa (balanced) | okvqa (balanced) |
| **测试样本数** | 800 | 800 |
| **采样器** | RandSampler | RandSampler |
| **模型** | Qwen2.5-VL-3B-Instruct | Qwen2.5-VL-3B-Instruct |
| **其他参数** | 完全相同 | 完全相同 |

## 推理结果对比

| Shot Num | KL_BETA=0.12 (Epoch 9) | KL_BETA=0.15 (Epoch 42) | 差异 |
|----------|------------------------|-------------------------|------|
| **Shot 1** | 49.7% (0.497) | 49.7% (0.497) | **0.0%** |
| **Shot 2** | 48.23% (0.4823) | 48.23% (0.4823) | **0.0%** |
| **Shot 3** | 47.6% (0.476) | 47.6% (0.476) | **0.0%** |
| **Shot 4** | 47.6% (0.476) | 47.6% (0.476) | **0.0%** |

## 关键发现

⚠️ **结果完全相同**：KL_BETA=0.12 (epoch 9) 和 KL_BETA=0.15 (epoch 42) 在所有 shot 数量下的准确率完全相同。

## 可能的原因分析

1. **Checkpoint 问题**：
   - 两个 checkpoint 可能实际上使用了相同的模型参数
   - 需要验证 checkpoint 中的模型权重是否真的不同

2. **Epoch 差异**：
   - KL_BETA=0.12 使用 epoch 9
   - KL_BETA=0.15 使用 epoch 42
   - 不同 epoch 可能收敛到相似的性能水平

3. **KL_BETA 影响**：
   - KL_BETA 差异（0.12 vs 0.15）可能在这个任务上影响较小
   - 或者两个 checkpoint 的训练过程已经收敛到相似的策略分布

4. **数据问题**：
   - 两个模型都使用相同的平衡数据集
   - 可能数据集本身限制了性能差异的体现

## 建议

1. **验证 Checkpoint**：
   - 检查两个 checkpoint 的模型权重是否真的不同
   - 比较 checkpoint 中保存的 KL_BETA 值

2. **尝试不同 Epoch**：
   - 使用相同的 epoch 进行对比（如都使用 epoch 9 或都使用 epoch 42）
   - 排除 epoch 差异的影响

3. **检查训练过程**：
   - 查看训练日志，确认两个模型在训练时的 KL 散度是否不同
   - 确认训练过程是否正常

4. **扩大对比范围**：
   - 尝试更多不同的 KL_BETA 值（如 0.1, 0.12, 0.15, 0.18）
   - 使用更多不同的 epoch 进行对比

## 实验时间

- **KL_BETA=0.12 推理时间**：2025-12-22 10:41:44 - 11:51:34
- **KL_BETA=0.15 推理时间**：2025-12-22 11:51:47 - 13:03:08

## 结论

当前实验结果显示 KL_BETA=0.12 和 0.15 在相同测试集上的表现完全相同，这需要进一步调查以确定是 checkpoint 问题、epoch 差异还是 KL_BETA 在该任务上影响较小。

